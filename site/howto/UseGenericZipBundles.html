<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at May 7, 2013
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Creation-yyyymmdd" content="20121128" />
    <meta name="Date-Revision-yyyymmdd" content="20130507" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Xcode Maven Plugin - Usage</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>Xcode Maven Plugin</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
            
                  <li id="publishDate">Last Published: 2013-05-07</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 1.9.2</li>
                      
                
            
      
                            </ul>
      </div>

                  
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
            
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                                
      <li>
    
                          <a href="../index.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                  
      <li>
    
                          <a href="../plugin-info.html" title="Goals">
          <i class="none"></i>
        Goals</a>
            </li>
                  
      <li>
    
                          <a href="../usage.html" title="Usage">
          <i class="none"></i>
        Usage</a>
            </li>
                  
      <li>
    
                          <a href="../faq.html" title="FAQ">
          <i class="none"></i>
        FAQ</a>
            </li>
                  
      <li>
    
                          <a href="../release-notes.html" title="Release Notes">
          <i class="none"></i>
        Release Notes</a>
            </li>
                              <li class="nav-header">User Guide</li>
                                
      <li>
    
                          <a href="../userguide/Project Structure.html" title="Project Structure">
          <i class="none"></i>
        Project Structure</a>
            </li>
                  
      <li>
    
                          <a href="../userguide/Advanced Project Structure - Modules.html" title="Advanced Project Structure - Modules">
          <i class="none"></i>
        Advanced Project Structure - Modules</a>
            </li>
                  
      <li>
    
                          <a href="../userguide/Project Pom.html" title="Project Pom">
          <i class="none"></i>
        Project Pom</a>
            </li>
                  
      <li>
    
                          <a href="../userguide/Version information.html" title="Version information">
          <i class="none"></i>
        Version information</a>
            </li>
                                                                                
      <li>
    
                          <a href="../examples/AppBuildExample.html" title="Apps">
          <i class="icon-chevron-down"></i>
        Apps</a>
                    <ul class="nav nav-list">
                      
      <li>
    
                          <a href="../userguide/Packaging the Xcode project with its resolved dependencies.html" title="Packaging the Xcode project with its resolved dependencies">
          <i class="none"></i>
        Packaging the Xcode project with its resolved dependencies</a>
            </li>
                      
      <li>
    
                          <a href="../userguide/Xcode Applications Artifacts Structure.html" title="Xcode Applications Artifacts Structure">
          <i class="none"></i>
        Xcode Applications Artifacts Structure</a>
            </li>
              </ul>
        </li>
                                                                                                                    
      <li>
    
                          <a href="../examples/LibBuildExample.html" title="Libraries">
          <i class="icon-chevron-down"></i>
        Libraries</a>
                    <ul class="nav nav-list">
                      
      <li>
    
                          <a href="../userguide/Fat Binaries.html" title="Fat Binaries">
          <i class="none"></i>
        Fat Binaries</a>
            </li>
                      
      <li>
    
                          <a href="../userguide/Generation and Consumption Libraries with Bundles.html" title="Generation and Consumption Libraries with Bundles">
          <i class="none"></i>
        Generation and Consumption Libraries with Bundles</a>
            </li>
                      
      <li>
    
                          <a href="../userguide/Generation of API Docs with Doxygen.html" title="Generation of API Docs with Doxygen">
          <i class="none"></i>
        Generation of API Docs with Doxygen</a>
            </li>
                      
      <li>
    
                          <a href="../userguide/Xcode Libraries Artifacts Structure.html" title="Xcode Libraries Artifacts Structure">
          <i class="none"></i>
        Xcode Libraries Artifacts Structure</a>
            </li>
              </ul>
        </li>
                  
      <li>
    
                          <a href="../examples/FmwkBuildExample.html" title="Static Xcode Frameworks">
          <i class="none"></i>
        Static Xcode Frameworks</a>
            </li>
                                                                                                  
      <li>
    
                          <a href="../userguide/Dependencies.html" title="Dependency Management">
          <i class="icon-chevron-down"></i>
        Dependency Management</a>
                    <ul class="nav nav-list">
                      
      <li>
    
                          <a href="../userguide/Consumption of Libraries.html" target="_self" title="Consumption of Libraries">
          <i class="none"></i>
        Consumption of Libraries</a>
            </li>
                      
      <li>
    
                          <a href="../userguide/Consumption of Frameworks.html" title="Consumption of Frameworks">
          <i class="none"></i>
        Consumption of Frameworks</a>
            </li>
                      
      <li>
    
                          <a href="../userguide/Workspace.html" title="Develop Multiple Dependent Xcode Projects">
          <i class="none"></i>
        Develop Multiple Dependent Xcode Projects</a>
            </li>
              </ul>
        </li>
                              <li class="nav-header">How to</li>
                                
      <li>
    
                          <a href="../howto/IncludeMavenMetadataIntoALibrary.html" title="How to include maven metadata into a library">
          <i class="none"></i>
        How to include maven metadata into a library</a>
            </li>
                  
      <li class="active">
    
            <a href="#"><i class="none"></i>How to use generic ZIP bundles</a>
          </li>
                  
      <li>
    
                          <a href="../howto/HandlingAmbiguousDeveloperIdentities.html" title="How to handle ambiguous developer identities">
          <i class="none"></i>
        How to handle ambiguous developer identities</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                          
      <li>
    
                          <a href="../project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                                          
      <li>
    
                          <a href="../project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
            
                
          <hr class="divider" />

           <div id="poweredBy">
                   
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

    
    <div class="g-plusone" data-href="https://github.com/sap-production/xcode-maven-plugin/xcode-maven-plugin" data-size="tall" ></div>

                   <div class="clear"></div>
                   
        
        
        
    <iframe src="http://www.facebook.com/plugins/like.php?href=https://github.com/sap-production/xcode-maven-plugin/xcode-maven-plugin&send=false&layout=box_count&show-faces=false&action=like&colorscheme=light"
        scrolling="no" frameborder="0"
        style="border:none; width:48px; height:63px; margin-top: 10px;" ></iframe>
               <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                        
        <div id="bodyColumn"  class="span10" >
                                  
            <!-- ~ --><!-- #%L --><!-- xcode-maven-plugin --><!-- %% --><!-- Copyright (C) 2012 SAP AG --><!-- %% --><!-- Licensed under the Apache License, Version 2.0 (the "License"); --><!-- you may not use this file except in compliance with the License. --><!-- You may obtain a copy of the License at --><!--  --><!-- http://www.apache.org/licenses/LICENSE-2.0 --><!--  --><!-- Unless required by applicable law or agreed to in writing, software --><!-- distributed under the License is distributed on an "AS IS" BASIS, --><!-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. --><!-- See the License for the specific language governing permissions and --><!-- limitations under the License. --><!-- #L% --><!-- ~ --><div class="section"><h2>How to use generic ZIP bundles<a name="How_to_use_generic_ZIP_bundles"></a></h2><div class="section"><h3>Purpose of this page<a name="Purpose_of_this_page"></a></h3><p>Sometimes resources are provided in a generic way as a ZIP file to ensure they can be consumed in various builds (e.g. iOS, Android, Windows 8,...). This page explains what need to be done in order to get such ZIP artifacts resolved and what's the prefered way to work with them.</p></div><div class="section"><h3>The big picture<a name="The_big_picture"></a></h3><p>Maven dependencies should be resolved to <i>Maven-Root</i>/target/xcode-deps.</p><p>There are 3 ways you might want to handle dependencies to ZIP artifacts:</p><ul><li>Copy the ZIP file to <i>Maven-Root</i>/target/xcode-deps</li><li>Unpack the ZIP file content to a folder in <i>Maven-Root</i>/target/xcode-deps</li><li>Unpack the ZIP file content as a bundle to <i>Maven-Root</i>/target/xcode-deps/bundles\</li></ul></div><div class="section"><h3>How it works<a name="How_it_works"></a></h3><p>The <a class="externalLink" href="http://maven.apache.org/plugins/maven-dependency-plugin">maven-dependency-plugin</a> can be used to copy or unpack artifacts to specific locations. Use the <a class="externalLink" href="http://maven.apache.org/plugins/maven-dependency-plugin/examples/unpacking-artifacts.html">unpack goal</a> to unpack the ZIP or the <a class="externalLink" href="http://maven.apache.org/plugins/maven-dependency-plugin/examples/copying-artifacts.html">copy goal</a> to copy the ZIP.</p><div class="section"><h4>Example Project<a name="Example_Project"></a></h4><p><b>An example for the scenario described on that page can be found <a href="./UseGenericZipBundlesExample2.zip">here</a>.</b></p><p>The example project contains two modules</p><ul><li>PrepareDemoZip builds two ZIP files with different classifiers (<i>resource1</i> and <i>resource2</i>)</li><li>UnpackZipExample consumes those two ZIP artifacts and<ul><li>Unpacks one ZIP artifact</li><li>Unpacks one ZIP artifact as bundle</li><li>Copies one ZIP artifact</li></ul></li></ul><p>Simply unpack and run <tt>mvn clean install</tt> in the root folder. The ZIP artifacts are extracted to folder <i>modules/UnpackZipExample/target/xcode-deps/...</i>.</p></div><div class="section"><h4>Definitions in the pom.xml<a name="Definitions_in_the_pom.xml"></a></h4><p>In the dependency section define the dependency to the artifact as usual. To only download the ZIP file without other side artifacts you should specify the type <tt>zip</tt> and the <tt>classifier</tt> if needed.</p><div class="source"><pre class="prettyprint">[...]
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;mios.demo.zip&lt;/groupId&gt;
      &lt;artifactId&gt;theirResources&lt;/artifactId&gt;
      &lt;classifier&gt;resources1&lt;/classifier&gt;
      &lt;type&gt;zip&lt;/type&gt;
      &lt;version&gt;1.0.0&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
[...]</pre></div><p>But it is also possible to only declare the dependency to the <tt>pom</tt>. In the maven-dependency-plugin section you have to specify the zip artifact again anyway. Only the pom.xml and the ZIP file is downloaded this way.</p><p>This option is also useful if you want to unpack or copy several ZIP side artifacts. You have to specify the side artifacts only once in the plugin secion instead of redundantly in the dependency and plugin section.</p><div class="source"><pre class="prettyprint">[...]
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;mios.demo.zip&lt;/groupId&gt;
      &lt;artifactId&gt;theirResources&lt;/artifactId&gt;
      &lt;type&gt;pom&lt;/type&gt;
      &lt;version&gt;1.0.0&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
[...]</pre></div><div class="section"><h5>Common Configuration and Rules<a name="Common_Configuration_and_Rules"></a></h5><ul><li>Artifacts have to be copied or unpacked to folder <tt>${project.build.directory}/xcode-deps/</tt>! The structure below can be chosen arbitrarily. The reason is the xcode project configuration that must refer to those folders per relative path to use the content. Because the maven build will copy the whole environment into the target folder before the build execution it must be assured that the xcode project configuration works for the usage in the local IDE (directly the source location) and during the maven controlled build exection (done on the copy below the target folder). This requires that all refered content must be copied together with the sources. The xcode plugin already copies the content of the xcode-deps folder (as contract container for the xcode project for externally provided files) It does not know about arbitray folders managed by other maven plugins.&#160;Therefore the <tt>xcode-deps</tt> folder is the folder of the choice.</li><li>The unpack/copy execution should be done in the <tt>&lt;phase&gt;initialize&lt;/phase&gt;</tt> since all dependencies are resolved and prepared there.</li><li>In the <tt>configuration</tt> part of the plugin you have to specify the <tt>groupId</tt>, <tt>artifactId</tt>, <tt>type</tt> &quot;zip&quot; (and the <tt>classifier</tt> if needed) of the artifact to copy again. The version is not required since is already specified in the dependency section.</li><li>As described above, as <tt>outputDirectory</tt> you have to use <tt>${project.build.directory}/xcode-deps/</tt> followed by an arbitrary structure. We recommend to use <tt>bundles/&lt;groupId&gt;/&lt;artifactId&gt;</tt>.<div class="source"><pre class="prettyprint">  [...]
  &lt;build&gt;
    &lt;plugins&gt;
          [...]
      &lt;plugin&gt;
        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;
        &lt;version&gt;2.5.1&lt;/version&gt;
        [...]
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;id&gt;executionId&lt;/id&gt;
            &lt;phase&gt;initialize&lt;/phase&gt;
            &lt;goals&gt;
              &lt;goal&gt;[copy|unpack]&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;configuration&gt;
              &lt;artifactItems&gt;
                &lt;artifactItem&gt;
                                
                  &lt;groupId&gt;mios.demo.zip&lt;/groupId&gt;
                  &lt;artifactId&gt;theirResources&lt;/artifactId&gt;
                  &lt;classifier&gt;resources1&lt;/classifier&gt;
                  &lt;type&gt;zip&lt;/type&gt;
                  &lt;!-- version&gt;The version is fetched from the dependency declaration above &lt;/version --&gt;
                                  
                  &lt;overWrite&gt;true&lt;/overWrite&gt;
                  &lt;outputDirectory&gt;${project.build.directory}/xcode-deps/[...]&lt;/outputDirectory&gt;
                  &lt;!-- Only required for copy: --&gt;
                                  &lt;destFileName&gt;[...]&lt;/destFileName&gt;
                                  
                &lt;/artifactItem&gt;
              &lt;/artifactItems&gt;
            &lt;/configuration&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
        [...]
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;</pre></div></li></ul></div><div class="section"><h5>How to configure Unpack<a name="How_to_configure_Unpack"></a></h5><p>See &quot;Common Configuration and Rules&quot;. Additional configuration steps are described here.</p><ul><li>In the <tt>plugins</tt> section add the <tt>maven-dependency-plugin</tt> with goal <tt>unpack</tt>.</li><li>In the <tt>outputDirectory</tt> you have to specify the folder the ZIP shall be extracted to. The directory has to start with <tt>${project.build.directory}/xcode-deps/</tt>! If you want the ZIP to be extracted as a bundle simply add the extension <tt>.bundle</tt> to the output directory.<div class="source"><pre class="prettyprint">          [...]
          &lt;execution&gt;
                [...]
                    &lt;goals&gt;
              &lt;goal&gt;unpack&lt;/goal&gt;
            &lt;/goals&gt;
                        
            &lt;configuration&gt;
              &lt;artifactItems&gt;
                &lt;artifactItem&gt;
                                
                  &lt;groupId&gt;mios.demo.zip&lt;/groupId&gt;
                  &lt;artifactId&gt;theirResources&lt;/artifactId&gt;
                  &lt;classifier&gt;resources2&lt;/classifier&gt;
                  &lt;type&gt;zip&lt;/type&gt;
                                  
                  &lt;overWrite&gt;true&lt;/overWrite&gt;
                  &lt;outputDirectory&gt;${project.build.directory}/xcode-deps/bundles/mios.demo.zip/theirResources/resources2.bundle&lt;/outputDirectory&gt;
                                  
                &lt;/artifactItem&gt;
              &lt;/artifactItems&gt;
            &lt;/configuration&gt;
                        
          &lt;/execution&gt;
          [...]</pre></div></li></ul></div><div class="section"><h5>How to configure Copy<a name="How_to_configure_Copy"></a></h5><p>See &quot;Common Configuration and Rules&quot;. Additional configuration steps are described here.</p><ul><li>In the <tt>plugins</tt> section add the <tt>maven-dependency-plugin</tt> with goal <tt>copy</tt>.</li><li>You can specify the target filename in the <tt>destFileName</tt> tag.<div class="source"><pre class="prettyprint">          [...]
          &lt;execution&gt;
                [...]
                    &lt;goals&gt;
              &lt;goal&gt;copy&lt;/goal&gt;
            &lt;/goals&gt;
                        
            &lt;configuration&gt;
              &lt;artifactItems&gt;
                &lt;artifactItem&gt;
                                
                  &lt;groupId&gt;mios.demo.zip&lt;/groupId&gt;
                  &lt;artifactId&gt;theirResources&lt;/artifactId&gt;
                  &lt;classifier&gt;resources1&lt;/classifier&gt;
                  &lt;type&gt;zip&lt;/type&gt;
                                  
                  &lt;overWrite&gt;true&lt;/overWrite&gt;
                  &lt;outputDirectory&gt;${project.build.directory}/xcode-deps/bundles/mios.demo.zip/theirResources&lt;/outputDirectory&gt;
                  &lt;destFileName&gt;resources1.zip&lt;/destFileName&gt;
                                  
                &lt;/artifactItem&gt;
              &lt;/artifactItems&gt;
            &lt;/configuration&gt;
                        
          &lt;/execution&gt;
          [...]</pre></div></li></ul></div></div><div class="section"><h4>How to add the resources to your Xcode project<a name="How_to_add_the_resources_to_your_Xcode_project"></a></h4><ul><li>Open your Xcode project from the <tt>src/xcode</tt> folder.</li><li>Drag the bundle from the <tt>target/xcode-deps/...</tt> folder to the Xcode project.<img src="UseGenericZipBundlesExample_1.png" alt="" /></li><li>Select <tt>Create folder references for any added folders</tt> to have the same structure as on the file system.</li><li>By selecting <tt>Create groups for any added folders</tt> the structure in XCode can be changed without changing the structure in the filesystem.<img src="UseGenericZipBundlesExample_2.png" alt="" /></li><li>The imported bundle is now available in the Xcode project<img src="UseGenericZipBundlesExample_3.png" alt="" /></li></ul><div class="section"><h5>The example project<a name="The_example_project"></a></h5><ul><li>When you initially unpack the <a href="./UseGenericZipBundlesExample2.zip">example project</a> and open <tt>modules/UnpackZipExample/src/xcode/DemoApp.xcodeproj</tt> the resources2.bundle cannot be resolved</li><li>After calling (at least) <tt>mvn initialize</tt> the dependency to the bundle is resolved and the bundle is unpacked to the <tt>target/xcode-deps</tt> folder where the Xcode project expects it.<img src="UseGenericZipBundlesExample_0.png" alt="" /></li></ul></div></div></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                    2012-2013
                      SAP AG.
            All Rights Reserved.      
            
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
